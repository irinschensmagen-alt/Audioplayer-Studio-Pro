import React, { useState } from 'react';

export default function PlaylistPlayer() {
  const [playlistCover, setPlaylistCover] = useState(null);
  const [background, setBackground] = useState(null);
  const [currentTrack, setCurrentTrack] = useState(null);
  const [isPlaying, setIsPlaying] = useState(false);

  const tracks = [
    'Track 1',
    'Track 2',
    'Track 3',
    'Track 4',
  ];

  const handleCoverUpload = (e) => {
    const file = e.target.files[0];
    if (file) setPlaylistCover(URL.createObjectURL(file));
  };

  const handleBackgroundUpload = (e) => {
    const file = e.target.files[0];
    if (file) setBackground(URL.createObjectURL(file));
  };

  const togglePlay = (track) => {
    setCurrentTrack(track);
    setIsPlaying(!isPlaying);
  };

  return (
    <div className={`min-h-screen flex items-center justify-center p-4`} style={{ backgroundImage: `url(${background})`, backgroundSize: 'cover', backgroundPosition: 'center' }}>
      <div className="bg-white/80 backdrop-blur-md rounded-2xl p-6 w-full max-w-md shadow-lg">
        {/* –ü–ª–µ–π–ª–∏—Å—Ç –æ–±–ª–æ–∂–∫–∞ –∏ –∫–Ω–æ–ø–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ */}
        <div className="flex flex-col items-center mb-6">
          <div className="relative">
            <img
              src={playlistCover || 'https://via.placeholder.com/150'}
              alt="Playlist Cover"
              className="w-40 h-40 rounded-xl object-cover shadow-md"
            />
            <label className="absolute bottom-2 right-2 bg-white p-2 rounded-full shadow-md cursor-pointer hover:bg-gray-100">
              üñºÔ∏è
              <input type="file" className="hidden" onChange={handleCoverUpload} />
            </label>
          </div>
          <label className="mt-3 px-4 py-2 bg-gray-200 rounded-lg cursor-pointer hover:bg-gray-300">
            üåÑ Upload Background
            <input type="file" className="hidden" onChange={handleBackgroundUpload} />
          </label>
          <h2 className="mt-4 text-xl font-semibold">My Playlist</h2>
        </div>

        {/* –°–ø–∏—Å–æ–∫ —Ç—Ä–µ–∫–æ–≤ */}
        <div className="space-y-2">
          {tracks.map((track, index) => (
            <div
              key={index}
              className={`flex justify-between items-center p-3 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors ${currentTrack === track ? 'bg-gray-200 font-semibold' : ''}`}
              onClick={() => togglePlay(track)}
            >
              <span>{track}</span>
              <button className="text-xl">{currentTrack === track && isPlaying ? '‚è∏Ô∏è' : '‚ñ∂Ô∏è'}</button>
            </div>
          ))}
        </div>

        {/* –ú–∏–Ω–∏ –∞—É–¥–∏–æ–ø–ª–µ–µ—Ä */}
        {currentTrack && (
          <div className="mt-6 p-4 bg-gray-50 rounded-lg shadow-inner flex justify-between items-center">
            <div>{currentTrack}</div>
            <button onClick={() => setIsPlaying(!isPlaying)} className="text-2xl">
              {isPlaying ? '‚è∏Ô∏è' : '‚ñ∂Ô∏è'}
            </button>
          </div>
        )}
      </div>
    </div>
  );
}
