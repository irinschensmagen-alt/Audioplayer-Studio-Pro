<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>AUDIO STUDIO PRO | DOUBLE DRAWER</title>
    <style>
        :root { 
            --gold-line: #d4af37;
            --gold-grad: linear-gradient(135deg, #e5c064 0%, #f9e1a9 50%, #d4af37 100%);
            --sidebar-bg: #fcfdfe;
            --text-main: #1a4a7a;
            --accent-gold: #b8860b;
        }
        body { font-family: 'Segoe UI', sans-serif; margin: 0; background: var(--sidebar-bg); display: flex; height: 100vh; overflow: hidden; }

        /* –û–°–ù–û–í–ù–ê–Ø –ó–û–ù–ê –ü–õ–ï–ï–†–ê */
        .player-zone { 
            flex: 1; display: flex; flex-direction: column; align-items: center; justify-content: center; 
            background: radial-gradient(circle at 30% 20%, #ffffff 0%, #f4faff 45%, #eef8ff 100%);
            transition: margin-right 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }
        body.dict-open .player-zone { margin-right: 500px; }
        body.mat-open .player-zone { margin-right: 530px; } /* –ß—É—Ç—å –±–æ–ª—å—à–µ –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∞ —Å–ª–æ–µ–≤ */

        /* –®–¢–û–†–ö–ê 1: –°–õ–û–í–ê–†–¨ (–ù–ò–ñ–ù–Ø–Ø) */
        .drawer-dict { 
            position: fixed; right: -505px; top: 0; width: 500px; height: 100%; 
            background: white; border-left: 3px solid var(--gold-line); 
            transition: right 0.4s ease; z-index: 100; box-shadow: -5px 0 15px rgba(0,0,0,0.05);
        }
        body.dict-open .drawer-dict { right: 0; }

        /* –®–¢–û–†–ö–ê 2: –ú–ê–¢–ï–†–ò–ê–õ–´ (–í–ï–†–•–ù–Ø–Ø) */
        .drawer-mat { 
            position: fixed; right: -515px; top: 0; width: 500px; height: 100%; 
            background: #fdfdfd; border-left: 4px solid var(--accent-gold); 
            transition: right 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.1); z-index: 110; 
            box-shadow: -10px 0 25px rgba(0,0,0,0.15); display: flex; flex-direction: column; padding: 5px;
        }
        body.mat-open .drawer-mat { right: 0; }

        /* –ö–ù–û–ü–ö–ò –£–ü–†–ê–í–õ–ï–ù–ò–Ø –®–¢–û–†–ö–ê–ú–ò */
        .drawer-triggers { position: fixed; right: 0; top: 40%; display: flex; flex-direction: column; gap: 10px; z-index: 120; }
        .t-btn { 
            width: 45px; height: 60px; border: none; border-radius: 12px 0 0 12px; 
            cursor: pointer; color: white; font-size: 1.4rem; display: flex; align-items: center; justify-content: center;
            box-shadow: -2px 2px 5px rgba(0,0,0,0.1); transition: width 0.2s;
        }
        .t-btn:hover { width: 55px; }
        .t-dict { background: var(--gold-grad); }
        .t-mat { background: #5da9e1; }

        /* –õ–ï–í–ê–Ø –ü–ê–ù–ï–õ–¨ */
        .sidebar-left { width: 300px; border-right: 1px solid #ddd; padding: 20px; display: flex; flex-direction: column; gap: 15px; background: white; z-index: 10; }
        .card { border: 2px solid var(--gold-line); border-radius: 15px; padding: 10px; background: #fff; }
        label { font-size: 0.7rem; font-weight: 900; color: var(--accent-gold); display: block; margin-bottom: 5px; }
        .input-row { display: flex; align-items: center; gap: 5px; background: #f9f9f9; padding: 5px 10px; border-radius: 8px; border: 1px solid #eee; margin-bottom: 5px; }
        input { border: none; background: transparent; width: 100%; outline: none; font-size: 0.85rem; font-weight: bold; }

        /* –ü–õ–ï–ï–† –°–¢–ò–õ–ò */
        .cover { width: 400px; height: 225px; border-radius: 20px; border: 3px solid var(--gold-line); margin-bottom: 20px; background-size: cover; background-position: center; display: flex; align-items: center; justify-content: center; font-size: 4rem; background-color: white; }
        .play-btn { width: 80px; height: 80px; border-radius: 50%; background: var(--gold-grad); border: none; color: white; font-size: 2rem; cursor: pointer; }
        .nav-btn { background: none; border: none; font-size: 3rem; color: var(--text-main); cursor: pointer; }
        .grid-inputs { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; width: 80%; margin-top: 30px; }
    </style>
</head>
<body>

<div class="drawer-triggers">
    <button class="t-btn t-dict" title="–°–ª–æ–≤–∞—Ä—å" onclick="document.body.classList.toggle('dict-open')">üìñ</button>
    <button class="t-btn t-mat" title="–ú–∞—Ç–µ—Ä–∏–∞–ª—ã" onclick="document.body.classList.toggle('mat-open')">üìÇ</button>
</div>

<div class="sidebar-left">
    <div style="text-align:center"><img src="https://irinschensmagen-alt.github.io/Audioplayer-Studio-Pro/logo.png" style="width:60px"></div>
    
    <div class="card"><label>LANGUAGE</label><select id="langSelect" style="width:100%; border:none; font-weight:bold;"></select></div>

    <div class="card">
        <label>MATERIALS SOURCE</label>
        <div class="input-row"><input type="text" id="u-mat" placeholder="Link" onkeypress="if(event.key==='Enter') setMatLink(this.value)"> üîó</div>
        <div class="input-row" style="position:relative; cursor:pointer;">
            <input type="file" id="f-mat" style="position:absolute; opacity:0; cursor:pointer" onchange="handleMatFile(this)">
            <span id="f-mat-name" style="font-size:0.8rem; color:#78a1c4">üìÅ –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª</span>
        </div>
    </div>

    <div class="card"><label>MODE</label><select id="modeSelect" style="width:100%; border:none; font-weight:bold;"></select></div>
    
    <div class="card">
        <label>DICTIONARY URL</label>
        <div class="input-row"><input type="text" id="u-dict" value="https://www.wiktionary.org/" oninput="syncDict(this.value)"></div>
    </div>
</div>

<div class="drawer-dict">
    <iframe id="dict-frame" src="https://www.wiktionary.org/" style="width:100%; height:100%; border:none;"></iframe>
</div>

<div class="drawer-mat">
    <div style="padding:10px; background:var(--gold-grad); color:white; font-weight:bold; display:flex; justify-content:space-between;">
        <span>–£–ß–ï–ë–ù–´–ï –ú–ê–¢–ï–†–ò–ê–õ–´</span>
        <button onclick="document.body.classList.remove('mat-open')" style="background:none; border:none; color:white; cursor:pointer; font-weight:bold;">‚úï</button>
    </div>
    <iframe id="mat-frame" style="width:100%; flex:1; border:none; background:white;"></iframe>
</div>

<div class="player-zone">
    <div class="cover" id="cover">‚ô´</div>
    <input type="range" id="prog" style="width:400px; accent-color:var(--gold-line); margin-bottom:15px;">
    
    <div style="display:flex; align-items:center; gap:40px;">
        <button class="nav-btn" onclick="rewind(-10)">‚è™</button>
        <button class="play-btn" id="play-btn" onclick="togglePlay()">‚ñ∂</button>
        <button class="nav-btn" onclick="rewind(10)">‚è©</button>
    </div>

    <div class="grid-inputs">
        <div class="card"><label>AUDIO SOURCE</label>
            <div class="input-row"><input type="text" id="u-aud" placeholder="Link"> üîó</div>
        </div>
        <div class="card"><label>IMAGE SOURCE</label>
            <div class="input-row"><input type="text" id="u-img" placeholder="Link"> üîó</div>
        </div>
    </div>
</div>

<script>
    const audio = new Audio();
    
    // –õ–æ–≥–∏–∫–∞ —à—Ç–æ—Ä–∫–∏ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤
    function setMatLink(u) {
        document.getElementById('mat-frame').src = u;
        document.body.classList.add('mat-open');
    }

    function handleMatFile(i) {
        if(i.files[0]) {
            const u = URL.createObjectURL(i.files[0]);
            document.getElementById('mat-frame').src = u;
            document.getElementById('f-mat-name').innerText = i.files[0].name;
            document.body.classList.add('mat-open');
        }
    }

    function syncDict(v) {
        document.getElementById('dict-frame').src = v.startsWith('http') ? v : 'https://'+v;
    }

    function togglePlay() {
        if(!audio.src) return;
        audio.paused ? audio.play() : audio.pause();
    }
    
    audio.onplay = () => document.getElementById('play-btn').innerText = '‚è∏';
    audio.onpause = () => document.getElementById('play-btn').innerText = '‚ñ∂';
</script>
</body>
</html>
