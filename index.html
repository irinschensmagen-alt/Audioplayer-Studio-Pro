<script>
    const a = document.getElementById('audio'), t = document.getElementById('t'), b = document.getElementById('pbtn'), 
          dl = document.getElementById('dl'), curT = document.getElementById('cur'), durT = document.getElementById('dur'), pr = document.getElementById('prog');
    
    // ПРЯМЫЕ ССЫЛКИ С ПРОВЕРКОЙ ДОСТУПА
    const songs = [
        {n:"Neues Jahr Wunder", u:"https://irinschensmagen-alt.github.io/audioplayer/audio/Neues%20Jahr%20Wunder.mp3"},
        {n:"Neujahrsstimmung (1)", u:"https://irinschensmagen-alt.github.io/audioplayer/audio/Neujahrsstimmung%20(1).mp3"}
    ];
    
    let idx = 0;
    function load(i) {
        idx = i; 
        a.src = songs[idx].u; 
        t.innerText = songs[idx].n; 
        dl.href = songs[idx].u;
    }

    window.pp = () => { 
        if(a.paused) { 
            a.play().then(() => { b.innerText='⏸'; }).catch(() => { alert("Ошибка: файл недоступен на GitHub. Проверьте папку audio!"); });
        } else { 
            a.pause(); b.innerText='▶'; 
        } 
    };

    window.next = () => { idx=(idx+1)%songs.length; load(idx); a.play(); b.innerText='⏸'; };
    window.prev = () => { idx=(idx-1+songs.length)%songs.length; load(idx); a.play(); b.innerText='⏸'; };
    
    a.ontimeupdate = () => {
        pr.value = (a.currentTime / a.duration) * 100 || 0;
        const f = (s) => Math.floor(s/60) + ":" + ("0"+Math.floor(s%60)).slice(-2);
        curT.innerText = f(a.currentTime); 
        durT.innerText = f(a.duration || 0);
    };

    pr.oninput = () => a.currentTime = (pr.value / 100) * a.duration;
    
    // Инициализация
    window.onload = () => load(0);
</script>
