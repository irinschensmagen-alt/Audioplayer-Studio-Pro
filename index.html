<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>AUDIO STUDIO PRO | FINAL EDITOR</title>
    <style>
        :root { --gold: #d4af37; --blue: #5da9e1; --text: #b8860b; }
        body { font-family: 'Segoe UI', sans-serif; margin: 0; display: flex; height: 100vh; background: #fcfdfe; overflow: hidden; }

        /* –õ–ï–í–ê–Ø –ü–ê–ù–ï–õ–¨ (–†–ï–î–ê–ö–¢–û–†) */
        .sidebar-left { width: 320px; border-right: 1px solid #ddd; background: white; display: flex; flex-direction: column; padding: 15px; flex-shrink: 0; z-index: 10; }
        .card { border: 1.5px solid var(--gold); border-radius: 12px; padding: 10px; margin-bottom: 10px; }
        label { font-size: 10px; font-weight: 900; color: var(--text); text-transform: uppercase; margin-bottom: 4px; display: block; }
        .inp-group { background: #f9f9f9; border-radius: 8px; padding: 4px 8px; display: flex; align-items: center; gap: 5px; margin-bottom: 5px; border: 1px solid #eee; }
        input, select { border: none; background: transparent; width: 100%; outline: none; font-size: 13px; font-weight: 600; color: #1a4a7a; }
        
        /* –ü–†–ê–í–´–ï –®–¢–û–†–ö–ò */
        .drawer { position: fixed; right: -505px; top: 0; width: 500px; height: 100%; background: white; transition: 0.4s ease; z-index: 100; box-shadow: -5px 0 15px rgba(0,0,0,0.1); }
        .drawer-dict { border-left: 4px solid var(--gold); }
        .drawer-mat { border-left: 4px solid var(--blue); }
        body.dict-open .drawer-dict { right: 0; }
        body.mat-open .drawer-mat { right: 0; }
        iframe { width: 100%; height: 100%; border: none; }

        .drawer-tabs { position: fixed; right: 0; top: 40%; display: flex; flex-direction: column; gap: 10px; z-index: 110; }
        .tab-btn { width: 40px; height: 50px; border: none; border-radius: 8px 0 0 8px; color: white; cursor: pointer; font-size: 1.2rem; }

        /* –¶–ï–ù–¢–†–ê–õ–¨–ù–ê–Ø –ó–û–ù–ê */
        .main-content { flex: 1; display: flex; flex-direction: column; align-items: center; justify-content: center; transition: 0.4s; }
        body.dict-open .main-content, body.mat-open .main-content { margin-right: 500px; }

        /* –û–ö–ù–û –ö–û–î–ê –í–ù–ò–ó–£ */
        .export-box { margin-top: auto; padding-top: 10px; border-top: 1px solid #eee; }
        .code-res { width: 100%; height: 50px; font-family: monospace; font-size: 10px; background: #f4f4f4; border: 1px solid #ccc; padding: 5px; resize: none; }
        .copy-btn { width: 100%; background: var(--gold); color: white; border: none; padding: 8px; border-radius: 6px; cursor: pointer; font-weight: bold; margin-top: 5px; }

        /* –ö–ù–û–ü–ö–ò –ü–õ–ï–ï–†–ê */
        .play-main { width: 60px; height: 60px; border-radius: 50%; background: var(--gold); border: none; color: white; cursor: pointer; }
        .nav-btn { background: #0078d4; color: white; border: 2px solid #000; width: 40px; height: 35px; cursor: pointer; font-size: 1.2rem; }
    </style>
</head>
<body>

<div class="drawer-tabs">
    <button class="tab-btn" style="background:var(--gold)" onclick="toggleD('dict')">üìñ</button>
    <button class="tab-btn" style="background:var(--blue)" onclick="toggleD('mat')">üìÇ</button>
</div>

<div class="drawer drawer-dict"><iframe id="f-dict"></iframe></div>
<div class="drawer drawer-mat"><iframe id="f-mat"></iframe></div>

<aside class="sidebar-left">
    <div style="text-align:center; margin-bottom:10px;"><img src="https://irinschensmagen-alt.github.io/Audioplayer-Studio-Pro/logo.png" width="40"></div>
    
    <div class="card"><label id="l-lang">–Ø–ó–´–ö</label><select id="langSel" onchange="upUI()"></select></div>
    
    <div class="card">
        <label id="l-mat">–ú–ê–¢–ï–†–ò–ê–õ–´</label>
        <div class="inp-group"><input type="text" id="u-mat" placeholder="Link" oninput="gen()"><button onclick="loadM()">üìé</button></div>
    </div>

    <div class="card"><label id="l-mode">–†–ï–ñ–ò–ú</label><select id="modeSel" onchange="gen()"></select></div>
    
    <button style="width:100%; background:var(--blue); color:white; border:none; padding:8px; border-radius:8px; font-weight:bold; margin-bottom:10px;">üê¢ <span id="l-slow">SLOW</span></button>

    <div class="card">
        <label id="l-dict">–°–õ–û–í–ê–†–¨ URL</label>
        <div class="inp-group"><input type="text" id="u-dict" value="https://www.wiktionary.org/" oninput="gen()"><button onclick="loadD()">üìé</button></div>
    </div>

    <div class="export-box">
        <label>IFRAME CODE:</label>
        <textarea id="res-code" class="code-res" readonly></textarea>
        <button class="copy-btn" onclick="copyC()">Copy Code</button>
    </div>
</aside>

<main class="main-content">
    <div id="cover" style="width:350px; height:200px; border:2px solid var(--gold); border-radius:15px; background:white; display:flex; align-items:center; justify-content:center; font-size:3rem; background-size:cover;">‚ô´</div>
    <div style="width:350px; display:flex; justify-content:space-between; margin-top:10px; font-weight:bold; color:var(--gold); font-size:12px;"><span>0:00</span><span>0:00</span></div>
    <input type="range" style="width:350px; accent-color:var(--gold);">
    <div style="display:flex; gap:20px; margin-top:10px;">
        <button class="nav-btn">‚è™</button>
        <button class="play-main">‚ñ∂</button>
        <button class="nav-btn">‚è©</button>
    </div>
</main>

<script>
    const langs = {
        ru: { n:"–†—É—Å—Å–∫–∏–π", l:"–Ø–∑—ã–∫", m:"–ú–∞—Ç–µ—Ä–∏–∞–ª—ã", md:"–†–µ–∂–∏–º", d:"–°–ª–æ–≤–∞—Ä—å URL", s:"–£—á–µ–Ω–∏–∫", ms:"–ú–∞—Å—Ç–µ—Ä", t:"–¢–µ—Å—Ç", sl:"–ó–∞–º–µ–¥–ª–µ–Ω–∏–µ 0.8x" },
        en: { n:"English", l:"Language", m:"Materials", md:"Mode", d:"Dictionary URL", s:"Study", ms:"Master", t:"Test", sl:"Slow 0.8x" },
        ja: { n:"Êó•Êú¨Ë™û", l:"Ë®ÄË™û", m:"ÊïôÊùê", md:"„É¢„Éº„Éâ", d:"ËæûÊõ∏URL", s:"Â≠¶Áøí", ms:"„Éû„Çπ„Çø„Éº", t:"„ÉÜ„Çπ„Éà", sl:"„Çπ„É≠„Éº 0.8x" },
        pt: { n:"Portugu√™s", l:"Idioma", m:"Materiais", md:"Modus", d:"Dicion√°rio URL", s:"Estudo", ms:"Mestre", t:"Teste", sl:"Lento 0.8x" },
        zh: { n:"‰∏≠Êñá", l:"ËØ≠Ë®Ä", m:"ÊùêÊñô", md:"Ê®°Âºè", d:"ËØçÂÖ∏URL", s:"Â≠¶‰π†", ms:"Â§ßÂ∏à", t:"ÊµãËØï", sl:"ÊÖ¢ÈÄü 0.8x" },
        fa: { n:"ŸÅÿßÿ±ÿ≥€å", l:"ÿ≤ÿ®ÿßŸÜ", m:"ŸÖŸàÿßÿØ", md:"ÿ≠ÿßŸÑÿ™", d:"ŸÑ€åŸÜ⁄© ÿØ€å⁄©ÿ¥ŸÜÿ±€å", s:"ŸÖÿ∑ÿßŸÑÿπŸá", ms:"ÿßÿ≥ÿ™ÿßÿØ", t:"ÿ™ÿ≥ÿ™", sl:"ÿ¢Ÿáÿ≥ÿ™Ÿá €∞.€∏x" },
        hi: { n:"‡§π‡§ø‡§®‡•ç‡§¶‡•Ä", l:"‡§≠‡§æ‡§∑‡§æ", m:"‡§∏‡§æ‡§Æ‡§ó‡•ç‡§∞‡•Ä", md:"–º–æ–¥", d:"‡§∂‡§¨‡•ç‡§¶–∫–æ—à URL", s:"‡§Ö‡§ß‡•ç‡§Ø‡§Ø‡§®", ms:"–ú–∞—Å—Ç–µ—Ä", t:"‡§™‡§∞‡•Ä‡§ï‡•ç‡§∑‡§æ", sl:"‡§ß‡•Ä–º–∞ 0.8x" },
        ar: { n:"ÿßŸÑÿπÿ±ÿ®Ÿäÿ©", l:"ÿßŸÑŸÑÿ∫ÿ©", m:"ÿßŸÑŸÖŸàÿßÿØ", md:"ÿßŸÑŸàÿ∂ÿπ", d:"ŸÇÿßŸÖŸàÿ≥ URL", s:"ÿØÿ±ÿßÿ≥ÿ©", ms:"ŸÖÿß—Å—Ç–µ—Ä", t:"ÿßÿÆÿ™ÿ®ÿßÿ±", sl:"ÿ®ÿ∑Ÿäÿ° 0.8x" },
        fr: { n:"Fran√ßais", l:"Langue", m:"Mat√©riels", md:"Mode", d:"URL Dictionnaire", s:"√âtude", ms:"Ma√Ætre", t:"Test", sl:"Lent 0.8x" },
        es: { n:"Espa√±ol", l:"Idioma", m:"Materiales", md:"Modo", d:"URL Diccionario", s:"Estudio", ms:"Maestro", t:"Prueba", sl:"Lento 0.8x" },
        it: { n:"Italiano", l:"Lingua", m:"Materiali", md:"Modo", d:"URL Dizionario", s:"Studio", ms:"Master", t:"Test", sl:"Lento 0.8x" }
    };

    function upUI() {
        const t = langs[document.getElementById('langSel').value];
        document.getElementById('l-lang').innerText = t.l; document.getElementById('l-mat').innerText = t.m;
        document.getElementById('l-mode').innerText = t.md; document.getElementById('l-dict').innerText = t.d;
        document.getElementById('l-slow').innerText = t.sl;
        const m = document.getElementById('modeSel'); m.innerHTML = '';
        m.add(new Option(t.s, 'study')); m.add(new Option(t.ms, 'master')); m.add(new Option(t.t, 'test'));
        gen();
    }

    function toggleD(t) { 
        if(document.body.classList.contains(t+'-open')) document.body.classList.remove(t+'-open');
        else { document.body.classList.remove('dict-open','mat-open'); document.body.classList.add(t+'-open'); }
    }

    function loadD() { document.getElementById('f-dict').src = document.getElementById('u-dict').value; toggleD('dict'); }
    function loadM() { document.getElementById('f-mat').src = document.getElementById('u-mat').value; toggleD('mat'); }

    function gen() {
        const aud = document.getElementById('u-mat').value; // –¥–ª—è –ø—Ä–∏–º–µ—Ä–∞ –±–µ—Ä–µ–º –∏–∑ –º–∞—Ç–æ–≤
        const dict = document.getElementById('u-dict').value;
        const mode = document.getElementById('modeSel').value;
        const lang = document.getElementById('langSel').value;
        
        // –í –∫–æ–¥–µ iframe –∑–∞—à–∏—Ç–∞ –≤–∞—à–∞ –ª–æ–≥–∏–∫–∞ —Ä–µ–∂–∏–º–æ–≤
        const code = `<iframe src="https://studio.pro/player?mode=${mode}&lang=${lang}&aud=${encodeURIComponent(aud)}&dict=${encodeURIComponent(dict)}" width="100%" height="600" frameborder="0"></iframe>`;
        document.getElementById('res-code').value = code;
    }

    function copyC() { document.getElementById('res-code').select(); document.execCommand('copy'); alert("Copied!"); }

    const sel = document.getElementById('langSel');
    Object.keys(langs).forEach(k => sel.add(new Option(langs[k].n, k)));
    sel.value = 'ru'; upUI();
</script>
</body>
</html>
