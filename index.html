<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <title>AUDIO STUDIO PRO</title>
    <style>
        :root { 
            --gold: linear-gradient(135deg, #d4af37 0%, #f1c40f 50%, #b8860b 100%);
            --bg: #fdfaf2; --accent: #b8860b;
        }

        body { font-family: 'Segoe UI', sans-serif; margin: 0; background: var(--bg); display: flex; height: 100vh; overflow: hidden; width: 100vw; }

        /* –°–ê–ô–î–ë–ê–† - –í–û–ó–í–†–ê–©–ê–ï–ú –ü–û–õ–ù–£–Æ –°–¢–†–£–ö–¢–£–†–£ */
        .sidebar { width: 320px; background: white; padding: 25px; border-right: 2px solid #f1c40f; flex-shrink: 0; overflow-y: auto; z-index: 1000; box-shadow: 5px 0 15px rgba(0,0,0,0.05); }
        .logo-box { text-align: center; margin-bottom: 25px; }
        .logo-img { width: 100px; height: 100px; border-radius: 50%; border: 4px solid #d4af37; box-shadow: 0 5px 15px rgba(212,175,55,0.3); }

        /* –ü–õ–ï–ï–† */
        .player-zone { flex: 1; display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 30px; min-width: 400px; position: relative; }
        .cover { 
            width: 80%; max-width: 500px; aspect-ratio: 16/9; border-radius: 30px; 
            background: white; border: 10px solid white; box-shadow: 0 20px 50px rgba(184,134,11,0.15);
            display: flex; align-items: center; justify-content: center; font-size: 5rem; color: #d4af37; margin-bottom: 20px;
            background-size: cover; background-position: center;
        }

        /* –£–ü–†–ê–í–õ–ï–ù–ò–ï */
        #prog { width: 85%; max-width: 500px; accent-color: var(--accent); height: 10px; cursor: pointer; }
        .time { font-weight: 900; font-size: 2rem; margin: 15px 0; color: #333; }
        .play-btn { width: 90px; height: 90px; border-radius: 50%; background: var(--gold); color: white; border: none; font-size: 2.5rem; cursor: pointer; }

        /* –ò–°–ü–†–ê–í–õ–ï–ù–ù–ê–Ø –®–¢–û–†–ö–ê */
        .dict-panel { 
            width: 0px; background: white; border-left: 0px solid #d4af37; 
            display: flex; position: relative; flex-shrink: 0; z-index: 500;
        }
        /* –ó–æ–Ω–∞ –∑–∞—Ö–≤–∞—Ç–∞ —Ç–µ–ø–µ—Ä—å –í–°–ï–ì–î–ê –ü–û–í–ï–†–• PDF */
        .resizer { 
            width: 30px; cursor: col-resize; position: absolute; left: -15px; top: 0; bottom: 0; 
            z-index: 9999; background: rgba(212, 175, 55, 0.1); display: flex; align-items: center; justify-content: center;
        }
        .resizer::after { content: '‚óÄ‚ñ∂'; font-size: 12px; color: var(--accent); font-weight: bold; }

        /* –ü–û–õ–Ø –í–í–û–î–ê - –ò–°–ü–†–ê–í–õ–Ø–ï–ú –ù–ê–õ–û–ñ–ï–ù–ò–ï –¢–ï–ö–°–¢–ê */
        .card { background: #fff; padding: 12px; border-radius: 15px; border: 1px solid #eee; margin-bottom: 10px; }
        .input-group { display: flex; align-items: center; gap: 8px; margin-top: 5px; background: #f9f9f9; padding: 5px; border-radius: 8px; }
        input[type="text"], input[type="file"] { border: none; background: transparent; width: 100%; outline: none; font-size: 0.8rem; }
        .x-btn { color: #ff5e5e; border: none; background: none; font-weight: bold; cursor: pointer; font-size: 1.1rem; padding: 0 5px; }

        .slow-btn { background: #2ecc71; color: white; border: none; padding: 12px; border-radius: 12px; font-weight: bold; cursor: pointer; width: 100%; margin: 10px 0; }
        .slow-btn.active { background: #e67e22; }

        iframe { width: 100%; height: 100%; border: none; }
    </style>
</head>
<body>

<div class="sidebar">
    <div class="logo-box">
        <a href="https://t.me/DI_von_Irina" target="_blank"><img src="https://irinschensmagen-alt.github.io/Audioplayer-Studio-Pro/logo.png" class="logo-img"></a>
        <h2 style="color:var(--accent); font-weight:900;">AUDIO STUDIO PRO</h2>
    </div>

    <label>LANGUAGE / SPRACHE</label>
    <select id="langSelect" onchange="translate()">
        <option value="de">Deutsch</option><option value="ru">–†—É—Å—Å–∫–∏–π</option>
        <option value="it">Italiano</option><option value="fr">Fran√ßais</option>
        <option value="es">Espa√±ol</option><option value="en">English</option>
        <option value="ja">Êó•Êú¨Ë™û</option><option value="zh">‰∏≠Êñá</option>
        <option value="fa">ŸÅÿßÿ±ÿ≥€å</option><option value="hi">‡§π‡§ø‡§®‡•ç‡§¶‡•Ä</option>
    </select>

    <label style="margin-top:15px; display:block;">MODE / MODUS</label>
    <select id="modeSelect" onchange="setMode()">
        <option value="study">Study (–£—á–µ–Ω–∏–∫)</option>
        <option value="master">Master (Loop)</option>
        <option value="test">Test (Exam)</option>
    </select>

    <button id="slowBtn" class="slow-btn" onclick="toggleSlow()">üê¢ LANGSAM 0.8x</button>

    <div class="card">
        <label>PDF / MATERIALS</label>
        <div class="input-group">
            <input type="file" id="f-pdf" accept=".pdf">
            <button class="x-btn" onclick="clearField('f-pdf')">‚úñ</button>
        </div>
    </div>
    <div class="card">
        <label>DICTIONARY URL</label>
        <div class="input-group">
            <input type="text" id="u-dict" placeholder="https://..." oninput="loadDict(this.value)">
            <button class="x-btn" onclick="clearField('u-dict')">‚úñ</button>
        </div>
    </div>
</div>

<div class="player-zone">
    <div id="status" style="color:var(--accent); font-weight:bold; letter-spacing:2px;">READY</div>
    <div class="cover" id="cover">üéµ</div>
    <input type="range" id="prog" value="0" step="0.1">
    <div class="time" id="time-display">00:00 / 00:00</div>
    <div class="controls" style="display:flex; align-items:center; gap:30px;">
        <button onclick="audio.currentTime-=10" style="background:none; border:none; font-size:2rem; cursor:pointer;">‚è™</button>
        <button class="play-btn" id="play-btn" onclick="togglePlay()">‚ñ∂</button>
        <button onclick="audio.currentTime+=10" style="background:none; border:none; font-size:2rem; cursor:pointer;">‚è©</button>
    </div>

    <div style="display:grid; grid-template-columns: 1fr 1fr; gap:15px; width:90%; max-width:700px; margin-top:20px;">
        <div class="card">
            <label>AUDIO LINK/FILE</label>
            <div class="input-group"><input type="text" id="u-aud" placeholder="URL" oninput="audio.src=this.value"><button class="x-btn" onclick="clearField('u-aud')">‚úñ</button></div>
            <div class="input-group"><input type="file" id="f-aud" accept="audio/*"><button class="x-btn" onclick="clearField('f-aud')">‚úñ</button></div>
        </div>
        <div class="card">
            <label>IMAGE LINK/FILE</label>
            <div class="input-group"><input type="text" id="u-img" placeholder="URL" oninput="setCover(this.value)"><button class="x-btn" onclick="clearField('u-img')">‚úñ</button></div>
            <div class="input-group"><input type="file" id="f-img" accept="image/*"><button class="x-btn" onclick="clearField('f-img')">‚úñ</button></div>
        </div>
    </div>
</div>

<div class="dict-panel" id="dict-panel">
    <div class="resizer" id="resizer"></div>
    <iframe id="frame"></iframe>
</div>

<script>
    const audio = new Audio(); audio.preservesPitch = true;
    const panel = document.getElementById('dict-panel');
    const resizer = document.getElementById('resizer');
    let isResizing = false;

    // –ò–°–ü–†–ê–í–õ–ï–ù–ù–´–ô –†–ï–°–ê–ô–ó–ï–† (–ó–ê–ö–†–´–í–ê–ï–¢–°–Ø –í–°–ï–ì–î–ê)
    resizer.addEventListener('mousedown', (e) => { isResizing = true; document.body.style.cursor = 'col-resize'; });
    document.addEventListener('mouseup', () => { isResizing = false; document.body.style.cursor = 'default'; });
    document.addEventListener('mousemove', (e) => {
        if (!isResizing) return;
        let width = window.innerWidth - e.clientX;
        if (width < 40) { panel.style.width = '0px'; panel.style.borderLeft = '0px'; }
        else if (width < window.innerWidth * 0.9) { panel.style.width = width + 'px'; panel.style.borderLeft = '10px solid #d4af37'; }
    });

    function togglePlay() { audio.paused ? audio.play() : audio.pause(); }
    function toggleSlow() { 
        audio.playbackRate = audio.playbackRate === 1 ? 0.8 : 1;
        document.getElementById('slowBtn').classList.toggle('active', audio.playbackRate === 0.8);
    }
    function setCover(u) { 
        const c = document.getElementById('cover');
        c.style.backgroundImage = u ? `url(${u})` : 'none';
        c.innerText = u ? '' : 'üéµ';
    }
    function loadDict(u) { if(u) { document.getElementById('frame').src = u; panel.style.width = '450px'; panel.style.borderLeft = '10px solid #d4af37'; } }
    
    function clearField(id) { 
        const el = document.getElementById(id); el.value = ''; 
        if(id === 'u-aud' || id === 'f-aud') audio.src = '';
        if(id === 'u-img' || id === 'f-img') setCover('');
        if(id === 'u-dict' || id === 'f-pdf') { document.getElementById('frame').src = 'about:blank'; panel.style.width = '0px'; panel.style.borderLeft = '0px'; }
    }

    document.getElementById('f-pdf').onchange = (e) => { if(e.target.files[0]) { document.getElementById('frame').src = URL.createObjectURL(e.target.files[0]) + "#view=FitH"; panel.style.width = '500px'; panel.style.borderLeft = '10px solid #d4af37'; } };
    document.getElementById('f-aud').onchange = (e) => { if(e.target.files[0]) audio.src = URL.createObjectURL(e.target.files[0]); };
    document.getElementById('f-img').onchange = (e) => { if(e.target.files[0]) setCover(URL.createObjectURL(e.target.files[0])); };

    audio.ontimeupdate = () => {
        const p = document.getElementById('prog'); p.max = audio.duration || 0; p.value = audio.currentTime;
        const fmt = s => new Date(s * 1000).toISOString().substr(14, 5);
        document.getElementById('time-display').innerText = `${fmt(audio.currentTime)} / ${fmt(audio.duration || 0)}`;
    };

    audio.onplay = () => { document.getElementById('play-btn').innerText = '‚è∏'; document.getElementById('status').innerText = 'PLAYING'; };
    audio.onpause = () => { document.getElementById('play-btn').innerText = '‚ñ∂'; document.getElementById('status').innerText = 'PAUSED'; };
</script>
</body>
</html>
